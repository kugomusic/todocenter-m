(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sticky-swiper-demo-sticky-swiper-demo"],{"041f":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 注意，1、父节点需要固定高度，z-paging的height:100%才会生效 */\n/* 注意，2、请确保z-paging与同级的其他view的总高度不得超过屏幕宽度，以避免超出屏幕高度时页面的滚动与z-paging内部的滚动冲突 */.content[data-v-ac66e9ec]{height:100%}.item[data-v-ac66e9ec]{position:relative;height:%?150?%;display:flex;align-items:center;justify-content:space-between;padding:%?0?% %?30?%}.item-detail[data-v-ac66e9ec]{padding:%?5?% %?15?%;border-radius:%?10?%;font-size:%?28?%;color:#fff;background-color:#007aff}.item-line[data-v-ac66e9ec]{position:absolute;bottom:%?0?%;left:%?0?%;height:1px;width:100%;background-color:#eee}",""]),t.exports=e},"0b46":function(t,e,n){"use strict";var i=n("4c22"),r=n.n(i);r.a},3538:function(t,e,n){"use strict";n.r(e);var i=n("6bfb"),r=n("5f3c");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("0b46");var s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"a65512f2",null,!1,i["a"],void 0);e["default"]=c.exports},3591:function(t,e,n){var i=n("041f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("7d27dce4",i,!0,{sourceMap:!1,shadowMode:!1})},"38d7":function(t,e,n){"use strict";n.r(e);var i=n("c5e8"),r=n("96cd");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("d317");var s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"ac66e9ec",null,!1,i["a"],void 0);e["default"]=c.exports},"40b4":function(t,e,n){"use strict";n.r(e);var i=n("8d4c"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"4c22":function(t,e,n){var i=n("d17e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("1e84f52a",i,!0,{sourceMap:!1,shadowMode:!1})},"517d":function(t,e,n){var i=n("cd9f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("dfd7e490",i,!0,{sourceMap:!1,shadowMode:!1})},"555c":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={zPaging:n("4533").default,customRefresher:n("3538").default,zTabs:n("bcc0").default,stickySwiperItem:n("38d7").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("z-paging",{ref:"paging",attrs:{"refresher-only":!0,scrollable:t.scrollable,"refresher-status":t.refresherStatus},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},"update:refresherStatus":function(e){arguments[0]=e=t.$handleEvent(e),t.refresherStatus=e},"update:refresher-status":function(e){arguments[0]=e=t.$handleEvent(e),t.refresherStatus=e},query:function(e){arguments[0]=e=t.$handleEvent(e),t.queryList.apply(void 0,arguments)}},scopedSlots:t._u([{key:"refresher",fn:function(){return[n("custom-refresher",{attrs:{status:t.refresherStatus}})]},proxy:!0}])},[n("v-uni-view",{staticClass:"banner-view",staticStyle:{height:"250rpx"}},[n("v-uni-view",{staticStyle:{"font-size":"40rpx","font-weight":"700"}},[t._v("这是一个banner")]),n("v-uni-view",{staticStyle:{"font-size":"24rpx","margin-top":"5rpx"}},[t._v("下方tab滚动时可吸附在顶部")])],1),n("v-uni-view",{staticClass:"paging-content",style:"height:"+t.pageHeight+"px"},[n("v-uni-view",{staticStyle:{"z-index":"100",position:"sticky",top:"0"}},[n("z-tabs",{ref:"tabs",attrs:{list:t.tabList,current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabChange.apply(void 0,arguments)}}})],1),n("v-uni-swiper",{staticClass:"swiper",attrs:{current:t.current},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperTransition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperAnimationfinish.apply(void 0,arguments)}}},t._l(t.tabList,(function(e,i){return n("v-uni-swiper-item",{key:i,staticClass:"swiper-item"},[n("sticky-swiper-item",{ref:"swiperItem",refInFor:!0,attrs:{tabIndex:i,currentIndex:t.current},on:{setScrollable:function(e){arguments[0]=e=t.$handleEvent(e),t.setScrollable.apply(void 0,arguments)},setStickyed:function(e){arguments[0]=e=t.$handleEvent(e),t.setStickyed.apply(void 0,arguments)}}})],1)})),1)],1)],1)],1)},a=[]},"5f3c":function(t,e,n){"use strict";n.r(e);var i=n("840d"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"6bfb":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"refresher-container"},[e("v-uni-image",{staticClass:"refresher-image",attrs:{mode:"aspectFit",src:n("d1be")}}),e("v-uni-text",{staticClass:"refresher-text"},[this._v(this._s(this.statusText))])],1)},r=[]},"6caa":function(t,e,n){"use strict";var i=n("517d"),r=n.n(i);r.a},"840d":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i={data:function(){return{}},computed:{statusText:function(){return["哎呀，用点力继续下拉！","拉疼我啦，松手刷新~~","正在努力刷新中...","刷新成功啦~"][this.status]}},props:{status:{type:Number,default:function(){return 0}}}};e.default=i},"8d4c":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f");var i={data:function(){return{refresherStatus:0,scrollTopMap:{},pageHeight:0,headerHeight:0,scrollable:!0,list:[],tabList:["测试1","测试2","测试3","测试4"],current:0}},onLoad:function(){var t=this;this.pageHeight=uni.getSystemInfoSync().windowHeight,this.$nextTick((function(){var e=uni.createSelectorQuery();e.select(".banner-view").boundingClientRect((function(e){t.headerHeight=e.height})).exec()}))},methods:{queryList:function(){var t=this;this.$refs.swiperItem[this.current].reload((function(){t.$refs.paging.complete([])}))},scroll:function(t){var e=t.detail.scrollTop;e<this.headerHeight?(this.scrollable=!0,this.$refs.swiperItem[this.current].setScrollable(!1)):(this.scrollable=!1,this.$refs.swiperItem[this.current].setScrollable(!0))},setScrollable:function(t){this.scrollable=t},setStickyed:function(){this.scrollable=!1,this.$refs.paging.scrollToY(this.headerHeight)},tabChange:function(t){this.current=t},swiperTransition:function(t){this.$refs.tabs.setDx(t.detail.dx)},swiperAnimationfinish:function(t){this.current=t.detail.current,this.$refs.swiperItem[this.current].setScrollable(!this.scrollable),this.$refs.tabs.unlockDx()}}};e.default=i},"96cd":function(t,e,n){"use strict";n.r(e);var i=n("c56a"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},c56a:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i={data:function(){return{dataList:[],scrollTop:0,firstLoaded:!1,scrollable:!1,stickyed:!1,completeFunc:null}},props:{tabIndex:{type:Number,default:function(){return 0}},currentIndex:{type:Number,default:function(){return 0}}},watch:{currentIndex:{handler:function(t){var e=this;t===this.tabIndex&&(this.firstLoaded||setTimeout((function(){e.$refs.paging.reload(),setTimeout((function(){e.stickyed&&(e.scrollable=!0)}),100)}),100),0===this.scrollTop&&this.firstLoaded&&this.$emit("setScrollable",!0))},immediate:!0}},methods:{setScrollable:function(t){this.scrollable=t,this.stickyed=this.scrollable},reload:function(t){this.completeFunc=t,this.$refs.paging.reload()},queryList:function(t,e){var n=this,i={pageNo:t,pageSize:e,type:this.tabIndex+1};this.$request.queryList(i).then((function(t){n.$refs.paging.complete(t.data.list),n.firstLoaded=!0,n.completeFunc&&n.completeFunc()})).catch((function(t){n.$refs.paging.complete(!1),n.completeFunc&&n.completeFunc()}))},scrolltoupper:function(){this.scrollTop=0,this.$emit("setScrollable",!0)},scroll:function(t){this.scrollTop=t.detail.scrollTop,this.scrollTop>10&&this.$emit("setScrollable",!1),this.stickyed||this.$emit("setStickyed",!1)},touchDirectionChange:function(t){0===this.scrollTop&&this.stickyed&&("top"===t?(this.$emit("setScrollable",!0),this.scrollable=!1):"bottom"===t&&(this.$emit("setScrollable",!1),this.scrollable=!0))}}};e.default=i},c5e8:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={zPaging:n("4533").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("z-paging",{ref:"paging",attrs:{"watch-touch-direction-change":!0,fixed:!1,scrollable:t.scrollable,"refresher-enabled":!1,auto:!1},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},query:function(e){arguments[0]=e=t.$handleEvent(e),t.queryList.apply(void 0,arguments)},touchDirectionChange:function(e){arguments[0]=e=t.$handleEvent(e),t.touchDirectionChange.apply(void 0,arguments)},scrolltoupper:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltoupper.apply(void 0,arguments)}},model:{value:t.dataList,callback:function(e){t.dataList=e},expression:"dataList"}},t._l(t.dataList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"item-title"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"item-detail"},[t._v(t._s(e.detail))]),n("v-uni-view",{staticClass:"item-line"})],1)})),1)],1)},a=[]},cd9f:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".banner-view[data-v-5eda6fc8]{background-color:#007aff;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}.paging-content[data-v-5eda6fc8]{flex:1;display:flex;flex-direction:column}.swiper[data-v-5eda6fc8]{flex:1}",""]),t.exports=e},d17e:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".refresher-container[data-v-a65512f2]{\ndisplay:flex;\nheight:%?150?%;flex-direction:column;align-items:center;justify-content:center}.refresher-image[data-v-a65512f2]{margin-top:%?10?%;height:45px;width:45px}.refresher-text[data-v-a65512f2]{margin-top:%?10?%;font-size:%?24?%;color:#666}",""]),t.exports=e},d1be:function(t,e,n){t.exports=n.p+"static/img/3.c63f6249.gif"},d317:function(t,e,n){"use strict";var i=n("3591"),r=n.n(i);r.a},f634:function(t,e,n){"use strict";n.r(e);var i=n("555c"),r=n("40b4");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("6caa");var s=n("f0c5"),c=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"5eda6fc8",null,!1,i["a"],void 0);e["default"]=c.exports}}]);