(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-common-demo-common-demo~pages-common-demo-n-common-demo-n~pages-consistency-demo-consistency-d~4cc5ad8a"],{7515:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".z-tabs-conatiner[data-v-5226ed98]{\noverflow:hidden;display:flex;width:100%;\n\n\nflex-direction:row;height:%?80?%}.z-tabs-scroll-view-conatiner[data-v-5226ed98]{flex:1;position:relative;\ndisplay:flex;height:100%;width:100%;\nflex-direction:row}\n.z-tabs-scroll-view[data-v-5226ed98] ::-webkit-scrollbar{display:none;-webkit-appearance:none;width:0!important;height:0!important;background:transparent}\n.z-tabs-scroll-view[data-v-5226ed98]{flex-direction:row;position:absolute;left:0;top:0;right:0;bottom:0;\nwidth:100%;height:100%;\nflex:1}.z-tabs-list-container[data-v-5226ed98]{position:relative;\nheight:100%\n}.z-tabs-list[data-v-5226ed98],.z-tabs-list-container[data-v-5226ed98]{\ndisplay:flex;\nflex-direction:row}.z-tabs-item[data-v-5226ed98]{\ndisplay:flex;\nflex-direction:row;justify-content:center;align-items:center;padding:0 %?20?%}.z-tabs-item-title-container[data-v-5226ed98]{\ndisplay:flex;\nflex-direction:row;align-items:center}.z-tabs-item-title[data-v-5226ed98]{font-size:%?30?%}.z-tabs-item-title-disabled[data-v-5226ed98]{\ncursor:not-allowed\n}.z-tabs-item-badge[data-v-5226ed98]{margin-left:%?8?%;background-color:#ec5b56;color:#fff;font-size:%?22?%;border-radius:100px;padding:%?0?% %?10?%}.z-tabs-bottom[data-v-5226ed98]{position:absolute;bottom:0;left:0;right:0}.z-tabs-bottom-dot[data-v-5226ed98]{border-radius:100px}.z-tabs-left[data-v-5226ed98],.z-tabs-right[data-v-5226ed98]{\ndisplay:flex;\nflex-direction:row;align-items:center}",""]),t.exports=e},"76f8":function(t,e,i){"use strict";i.r(e);var n=i("db5c"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},8853:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},ac9a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"z-tabs-conatiner",style:[{background:t.bgColor},t.tabsStyle]},[i("v-uni-view",{staticClass:"z-tabs-left"},[t._t("left")],2),i("v-uni-view",{ref:"z-tabs-scroll-view-conatiner",staticClass:"z-tabs-scroll-view-conatiner"},[i("v-uni-scroll-view",{ref:"z-tabs-scroll-view",staticClass:"z-tabs-scroll-view",attrs:{"scroll-x":!0,"scroll-left":t.scrollLeft,"show-scrollbar":!1,"scroll-with-animation":t.isFirstLoaded},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"z-tabs-list-container",style:[t.tabsListStyle]},[i("v-uni-view",{staticClass:"z-tabs-list",style:[t.tabsListStyle,{marginTop:-t.finalBottomSpace+"px"}]},t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,ref:"z-tabs-item-"+n,refInFor:!0,staticClass:"z-tabs-item",style:[t.tabStyle],attrs:{id:"z-tabs-item-"+n},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabsClick(n,e)}}},[i("v-uni-view",{staticClass:"z-tabs-item-title-container"},[i("v-uni-text",{class:{"z-tabs-item-title":!0,"z-tabs-item-title-disabled":e.disabled},style:[{color:e.disabled?t.disabledColor:t.currentIndex===n?t.activeColor:t.inactiveColor},e.disabled?t.disabledStyle:t.currentIndex===n?t.activeStyle:t.inactiveStyle]},[t._v(t._s(e[t.nameKey]||e))]),e.badge&&t._formatCount(e.badge.count).length?i("v-uni-text",{staticClass:"z-tabs-item-badge",style:[t.badgeStyle]},[t._v(t._s(t._formatCount(e.badge.count)))]):t._e()],1)],1)})),1),i("v-uni-view",{staticClass:"z-tabs-bottom",style:[{width:t.tabsContainerWidth+"px",bottom:t.finalBottomSpace+"px"}]},[i("v-uni-view",{ref:"z-tabs-bottom-dot",staticClass:"z-tabs-bottom-dot",style:[{transform:"translateX("+t.bottomDotX+"px)",transition:t.dotTransition,background:t.activeColor},t.finalDotStyle]})],1)],1)],1)],1),i("v-uni-view",{staticClass:"z-tabs-right"},[t._t("right")],2)],1)},a=[]},bcc0:function(t,e,i){"use strict";i.r(e);var n=i("ac9a"),a=i("76f8");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("f12b");var r=i("f0c5"),s=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"5226ed98",null,!1,n["a"],void 0);e["default"]=s.exports},db5c:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("c7eb")),o=n(i("1da1")),r=n(i("5530"));i("b64b"),i("ac1f"),i("5319"),i("a9e3"),i("e25e"),i("e9c4"),i("14d9"),i("d3b7"),i("d401"),i("25f0"),i("c975");var s=n(i("8853"));function l(t,e){var i=null;if(!s.default||!Object.keys(s.default).length)return e;i=s.default;var n=i[function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}(t)];return void 0===n?e:n}var d={name:"z-tabs",data:function(){return{currentIndex:0,currentSwiperIndex:0,bottomDotX:-1,bottomDotXForIndex:0,showBottomDot:!1,shouldSetDx:!0,barCalcedWidth:0,pxBarWidth:0,scrollLeft:0,tabsSuperWidth:uni.upx2px(750),tabsWidth:uni.upx2px(750),tabsHeight:uni.upx2px(80),tabsLeft:0,tabsContainerWidth:0,itemNodeInfos:[],isFirstLoaded:!1,currentScrollLeft:0,changeTriggerFailed:!1,currentChanged:!1}},props:{list:{type:Array,default:function(){return[]}},current:{type:[Number,String],default:l("current",0)},scrollCount:{type:[Number,String],default:l("scrollCount",5)},tabsStyle:{type:Object,default:function(){return l("tabsStyle",{})}},tabWidth:{type:[Number,String],default:l("tabWidth",0)},barWidth:{type:[Number,String],default:l("barWidth",45)},barHeight:{type:[Number,String],default:l("barHeight",8)},barStyle:{type:Object,default:function(){return l("barStyle",{})}},bottomSpace:{type:[Number,String],default:l("bottomSpace",8)},barAnimateMode:{type:String,default:l("barAnimateMode","line")},nameKey:{type:String,default:l("nameKey","name")},valueKey:{type:String,default:l("valueKey","value")},activeColor:{type:String,default:l("activeColor","#007AFF")},inactiveColor:{type:String,default:l("inactiveColor","#666666")},disabledColor:{type:String,default:l("disabledColor","#bbbbbb")},activeStyle:{type:Object,default:function(){return l("activeStyle",{})}},inactiveStyle:{type:Object,default:function(){return l("inactiveStyle",{})}},disabledStyle:{type:Object,default:function(){return l("disabledStyle",{})}},bgColor:{type:String,default:l("bgColor","white")},badgeMaxCount:{type:[Number,String],default:l("badgeMaxCount",99)},badgeStyle:{type:Object,default:function(){return l("badgeStyle",{})}},initTriggerChange:{type:Boolean,default:l("initTriggerChange",!1)}},mounted:function(){this.updateSubviewLayout()},watch:{current:{handler:function(t){this.currentChanged&&this._lockDx(),this.currentIndex=t,this._preUpdateDotPosition(this.currentIndex),this.initTriggerChange&&(t<this.list.length?this.$emit("change",t,this.list[t][this.valueKey]):this.changeTriggerFailed=!0),this.currentChanged=!0},immediate:!0},list:{handler:function(t){this._handleListChange(t)},immediate:!1},bottomDotX:function(t){t>=0&&(this.showBottomDot=!0,this.$nextTick((function(){})))},finalBarWidth:{handler:function(t){this.barCalcedWidth=t,this.pxBarWidth=this.barCalcedWidth},immediate:!0},currentIndex:{handler:function(t){this.currentSwiperIndex=t},immediate:!0}},computed:{shouldScroll:function(){return this.list.length>this.scrollCount},finalTabsHeight:function(){return this.tabsHeight},tabStyle:function(){var t=this.shouldScroll?{"flex-shrink":0}:{flex:1};return this.finalTabWidth>0?t["width"]=this.finalTabWidth+"px":delete t.width,t},tabsListStyle:function(){return this.shouldScroll?{}:{flex:1}},showAnimate:function(){return this.isFirstLoaded&&!this.shouldSetDx},dotTransition:function(){return this.showAnimate?"transform .2s linear":"none"},finalDotStyle:function(){return(0,r.default)((0,r.default)({},this.barStyle),{},{width:this.barCalcedWidth+"px",height:this.finalBarHeight+"px",opacity:this.showBottomDot?1:0})},finalTabWidth:function(){return this._convertTextToPx(this.tabWidth)},finalBarWidth:function(){return this._convertTextToPx(this.barWidth)},finalBarHeight:function(){return this._convertTextToPx(this.barHeight)},finalBottomSpace:function(){return this._convertTextToPx(this.bottomSpace)}},methods:{setDx:function(t){if(this.shouldSetDx){var e="line"===this.barAnimateMode,i="worm"===this.barAnimateMode,n=t/this.tabsSuperWidth;this.currentSwiperIndex=this.currentIndex+parseInt(n);var a=n>0,o=this.pxBarWidth;if(this.currentSwiperIndex!==this.currentIndex){n-=this.currentSwiperIndex-this.currentIndex;var r=this.itemNodeInfos[this.currentSwiperIndex];r&&(this.bottomDotXForIndex=this._getBottomDotX(r,o))}var s=this.currentSwiperIndex,l=s+(a?1:-1);l=Math.max(0,l),l=Math.min(l,this.itemNodeInfos.length-1);var d=this.itemNodeInfos[s],c=this.itemNodeInfos[l],u=this._getBottomDotX(c,o);if(e)this.bottomDotX=this.bottomDotXForIndex+(u-this.bottomDotXForIndex)*Math.abs(n);else if(i){if(a&&s>=this.itemNodeInfos.length-1||!a&&s<=0)return;var h=a?c.right-d.left:d.right-c.left,f=o+h*Math.abs(n);if(a){if(f>u-this.bottomDotX+o){var b=o+h*(1-n);this.bottomDotX=this.bottomDotXForIndex+(f-b)/2,f=b}}else if(!a)if(f>this.bottomDotXForIndex+o-u){var m=o+h*(1+n);f=m,this.bottomDotX=u}else this.bottomDotX=this.bottomDotXForIndex-(f-o);f=Math.max(f,o),this.barCalcedWidth=f}}},unlockDx:function(){var t=this;this.$nextTick((function(){t.shouldSetDx=!0}))},updateSubviewLayout:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$nextTick((function(){setTimeout((function(){t._getNodeClientRect(".z-tabs-scroll-view-conatiner").then((function(i){if(i){if(!i[0].width&&e<10)return void setTimeout((function(){e++,t.updateSubviewLayout(e)}),50);t.tabsWidth=i[0].width,t.tabsHeight=i[0].height,t.tabsLeft=i[0].left,t._handleListChange(t.list)}})),t._getNodeClientRect(".z-tabs-conatiner").then((function(e){e&&e[0].width&&(t.tabsSuperWidth=e[0].width)}))}),10)}))},tabsClick:function(t,e){e.disabled||(this.currentIndex!=t?(this.shouldSetDx=!1,this.$emit("change",t,e[this.valueKey]),this.currentIndex=t,this._preUpdateDotPosition(t)):this.$emit("secondClick",t,e[this.valueKey]))},scroll:function(t){this.currentScrollLeft=t.detail.scrollLeft},_lockDx:function(){this.shouldSetDx=!1},_preUpdateDotPosition:function(t){var e=this;this.$nextTick((function(){uni.createSelectorQuery().in(e).select(".z-tabs-scroll-view").fields({scrollOffset:!0},(function(i){i?(e.currentScrollLeft=i.scrollLeft,e._updateDotPosition(t)):e._updateDotPosition(t)})).exec()}))},_updateDotPosition:function(t){var e=this;t>=this.itemNodeInfos.length||this.$nextTick((0,o.default)((0,a.default)().mark((function i(){var n,o,r,s,l,d;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.itemNodeInfos[t],o=0,r=e.tabsContainerWidth,"{}"===JSON.stringify(e.activeStyle)){i.next=8;break}return i.next=6,e._getNodeClientRect("#z-tabs-item-".concat(t),!0);case 6:if(s=i.sent,s)for(n=s[0],o=e.currentScrollLeft,e.tabsHeight=Math.max(n.height+uni.upx2px(28),e.tabsHeight),r=0,l=0;l<e.itemNodeInfos.length;l++)d=e.itemNodeInfos[l],r+=l===t?n.width:d.width;case 8:e.bottomDotX=e._getBottomDotX(n,e.finalBarWidth,o),e.bottomDotXForIndex=e.bottomDotX,e.tabsWidth&&setTimeout((function(){var t=e.bottomDotX-e.tabsWidth/2+e.finalBarWidth/2;t=Math.max(0,t),r&&(t=Math.min(t,r-e.tabsWidth+10)),e.shouldScroll&&r>e.tabsWidth&&(e.scrollLeft=t),e.$nextTick((function(){e.isFirstLoaded=!0}))}),200);case 11:case"end":return i.stop()}}),i)}))))},_handleListChange:function(t){var e=this;this.$nextTick((0,o.default)((0,a.default)().mark((function i(){var n,r;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.length&&(n=[],r=0,0,setTimeout((0,o.default)((0,a.default)().mark((function i(){var o,s,l;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=0;case 1:if(!(o<t.length)){i.next=10;break}return i.next=4,e._getNodeClientRect("#z-tabs-item-".concat(o),!0);case 4:s=i.sent,s&&(l=s[0],l.left+=e.currentScrollLeft,n.push(l),r+=l.width),o===e.currentIndex&&(e.itemNodeInfos=n,e.tabsContainerWidth=r,e._updateDotPosition(e.currentIndex));case 7:o++,i.next=1;break;case 10:e.itemNodeInfos=n,e.tabsContainerWidth=r,e._updateDotPosition(e.currentIndex);case 13:case"end":return i.stop()}}),i)}))),0));case 1:case"end":return i.stop()}}),i)})))),this.initTriggerChange&&this.changeTriggerFailed&&t.length&&this.current<t.length&&this.$emit("change",this.current,t[this.current][this.valueKey])},_getBottomDotX:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.finalBarWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.left+t.width/2-e/2+i-this.tabsLeft},_getNodeClientRect:function(t){var e=uni.createSelectorQuery().in(this);return e.select(t).boundingClientRect(),new Promise((function(t,i){e.exec((function(e){t(!(!e||""==e||void 0==e||!e.length)&&e)}))}))},_formatCount:function(t){return t?t>this.badgeMaxCount?this.badgeMaxCount+"+":t.toString():""},_convertTextToPx:function(t){var e=Object.prototype.toString.call(t);if("[object Number]"===e)return uni.upx2px(t);var i=!1;return-1!==t.indexOf("rpx")||-1!==t.indexOf("upx")?(t=t.replace("rpx","").replace("upx",""),i=!0):t=-1!==t.indexOf("px")?t.replace("px",""):uni.upx2px(t),isNaN(t)?0:Number(i?uni.upx2px(t):t)}}};e.default=d},f12b:function(t,e,i){"use strict";var n=i("f41c"),a=i.n(n);a.a},f41c:function(t,e,i){var n=i("7515");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("b412f2fe",n,!0,{sourceMap:!1,shadowMode:!1})}}]);